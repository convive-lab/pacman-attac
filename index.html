<!DOCTYPE html>
<html>
	<head>
		<meta property="og:description" content="Pac-Man game">
		<meta property="og:title" content="Attac - Pac-Man">

		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
		<meta name="description" content="Pac-Man game to get you in contact with the austrain politicians" />
		<meta name="keywords" content="pacman, pac-man, pac-man online, pacman online, online, online games, games, free, puzzle, lucio panepinto, lucio, panepinto, html, html5, css, css3, javascript, jquery, rwd, responsive, responsive web design, responsive web, web design, canvas, draw" />
		<meta charset="UTF-8">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@AttacAustria">
		<meta property="og:url" content="https://www.attac.at/pacman-win.html" />
		<meta property="og:title" content="Attac Pacman" />
		<meta property="og:description" content="Pac-Man game to get you in contact with the austrain politicians." />
		<meta property="og:image" content="https://pacman.convive.io/img/twitter.png" />

		<meta name="twitter:description" content="Pac-Man game to get you in contact with the austrain politicians.">
		<link rel="stylesheet" type="text/css" href="css/pacman.css" />
		<link rel="stylesheet" type="text/css" href="css/pacman-home.css" />

		<script type="text/javascript" src="js/jquery.js"></script>
		<!--<script type="text/javascript" src="js/jquery-mobile.js"></script>-->
		<script type="text/javascript" src="js/jquery-buzz.js"></script>

		<script type="text/javascript" src="js/game.js"></script>
		<script type="text/javascript" src="js/tools.js"></script>
		<script type="text/javascript" src="js/board.js"></script>
		<script type="text/javascript" src="js/paths.js"></script>
		<script type="text/javascript" src="js/bubbles.js"></script>
		<script type="text/javascript" src="js/fruits.js"></script>
		<script type="text/javascript" src="js/pacman.js"></script>
		<script type="text/javascript" src="js/ghosts.js"></script>
		<script type="text/javascript" src="js/home.js"></script>
		<script type="text/javascript" src="js/sound.js"></script>
		<!-- twitter -->
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-145422147-1"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'UA-145422147-1');
		</script>

		<script>
		window.twttr = (function(d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0],
				t = window.twttr || {};
			if (d.getElementById(id)) return t;
			js = d.createElement(s);
			js.id = id;
			js.src = "https://platform.twitter.com/widgets.js";
			fjs.parentNode.insertBefore(js, fjs);

			t._e = [];
			t.ready = function(f) {
				t._e.push(f);
			};

			return t;
		}(document, "script", "twitter-wjs"));
		</script>
		<script type="text/javascript">

			function simulateKeyup(code) {
				var e = jQuery.Event("keyup");
				e.keyCode = code;
				jQuery('body').trigger(e);
			}
			function simulateKeydown(code) {
				var e = jQuery.Event("keydown");
				e.keyCode = code;
				jQuery('body').trigger(e);
			}

			$(document).ready(function() {
				$.getJSON("js/texts.json", function(json) {
				    window.texts = json;
				});
				//$.mobile.loading().hide();

				loadAllSound();

				HELP_TIMER = setInterval('blinkHelp()', HELP_DELAY);

				initHome();

				$(".sound").click(function(e) {
					e.stopPropagation();

					var sound = $(this).attr("data-sound");
					if ( sound === "on" ) {
						$(".sound").attr("data-sound", "off");
						$(".sound").find("img").attr("src", "img/sound-off.png");
						GROUP_SOUND.mute();
					} else {
						$(".sound").attr("data-sound", "on");
						$(".sound").find("img").attr("src", "img/sound-on.png");
						GROUP_SOUND.unmute();
					}
				});

				$(".help-button, #help").click(function(e) {
					e.stopPropagation();
					if (!PACMAN_DEAD && !LOCK && !GAMEOVER) {
						if ( $('#help').css("display") === "none") {
							$('#help').fadeIn("slow");
							$(".help-button").hide();
							if ( $("#panel").css("display") !== "none") {
								pauseGame();
							}
						} else {
							$('#help').fadeOut("slow");
							$(".help-button").show();
						}
					}
				});
				$("#control-up").click(function(e) {
					console.log("down");
					movePacman(4);
					// simulateKeydown(38);
					// simulateKeyup(13);
				});
				$("#control-down, #control-down-second, #control-down-big").on("mousedown touchstart", function(e) {
					e.preventDefault();
					simulateKeydown(40);
					simulateKeyup(13);
				});
				$("#control-left, #control-left-big").on("mousedown touchstart", function(e) {
					e.preventDefault();
					simulateKeydown(37);
					simulateKeyup(13);
				});
				$("#control-right, #control-right-big").on("mousedown touchstart", function(e) {
					e.preventDefault();
					simulateKeydown(39);
					simulateKeyup(13);
				});
				$("#engage-break").on("mousedown touchstart", function(e) {
					initHome();
				})



				$("body").keyup(function(e) {
					KEYDOWN = false;
				});
				$('#start').on({ 'touchstart' : function(){ initGame();} });
				$("body").keydown(function(e) {

					if (HOME) {

					} else {
							KEYDOWN = true;
							if (PACMAN_DEAD && !LOCK) {
								erasePacman();
								resetPacman();
								drawPacman();

								eraseGhosts();
								resetGhosts();
								drawGhosts();
								moveGhosts();

								blinkSuperBubbles();

							} else if (e.keyCode >= 37 && e.keyCode <= 40 && !PAUSE && !PACMAN_DEAD && !LOCK) {
								if ( e.keyCode === 39 ) {
									movePacman(1);
								} else if ( e.keyCode === 40 ) {
									movePacman(2);
								} else if ( e.keyCode === 37 ) {
									movePacman(3);
								} else if ( e.keyCode === 38 ) {
									movePacman(4);
								}
							} else if (e.keyCode === 68 && !PAUSE) {
								/*if ( $("#canvas-paths").css("display") === "none" ) {
									$("#canvas-paths").show();
								} else {
									$("#canvas-paths").hide();
								}*/
							} else if (e.keyCode === 80 && !PACMAN_DEAD && !LOCK) {
								if (PAUSE) {
									resumeGame();
								} else {
									pauseGame();
								}
							} else if (GAMEOVER) {
								initHome();
							}
					}
				});
				$('#start').click(function(){
					initGame();
				})
			});
		</script>

		<title>Attac.at Pac-Man</title>
	</head>

	<body>

		<div class="game" id="game">

					<div id="sound"></div>

					<div id="help">
						<h2>Help</h2>
						<table align="center" border="0" cellPadding="2" cellSpacing="0">
							<tbody>
								<tr><td>Arrow Left : </td><td>Move Left</td></tr>
								<tr><td>Arrow Right : </td><td>Move Right</td></tr>
								<tr><td>Arrow Down : </td><td>Move Down</td></tr>
								<tr><td>Arrow Up : </td><td>Move Up</td></tr>
								<tr><td colspan="2">&nbsp;</td></tr>
								<tr><td>P : </td><td>PAUSE</td></tr>
							</tbody>
						</table>
					</div>

			<div id="home">
				<div class="header">
					<div class="logo">
						<img id="logo" src="img/attac.png"/>
					</div>
					<h1>pac <canvas id="canvas-home-title-pacman"></canvas> man</h1>
				</div>
				<div class="footer">
					<div class="help-button">- help -</div>
					<a class="sound" href="javascript:void(0);" data-sound="on"><img src="img/sound-on.png" alt="" border="0"></a>
				</div>
				<div id="presentation">
					<div id="presentation-titles">character &nbsp;/&nbsp; nickname</div>
					<canvas id="canvas-presentation-ovp"></canvas><div id="presentation-character-ovp">- OVP</div><div id="presentation-name-ovp">Kurz</div>
					<canvas id="canvas-presentation-fpo"></canvas><div id="presentation-character-fpo">- FPO</div><div id="presentation-name-fpo">Hofer</div>
					<canvas id="canvas-presentation-spo"></canvas><div id="presentation-character-spo">- SPO</div><div id="presentation-name-spo">Rendi-Wagner</div>
					<canvas id="canvas-presentation-grune"></canvas><div id="presentation-character-grune">- GRUNE</div><div id="presentation-name-grune">Kogler</div>
					<canvas id="canvas-presentation-neos"></canvas><div id="presentation-character-neos">- NEOS</div><div id="presentation-name-neos">Meinl-Reisinger</div>
				</div>
				<canvas id="trailer"></canvas>
				<div class="input-id">
					<h2>E-Mail/Twitter</h2>
					<input class="input-user" type="text"></input>
				</div>
				<button id="start">start</button>


			</div>

			<div id="panel">
				<div class="header">
					<div class="logo">
						<img id="logo" src="img/attac.png"/>
					</div>
					<h1>pac <canvas id="canvas-panel-title-pacman"></canvas>man</h1>
				</div>
				<div class="scores">
					<div id="score"><h2>1UP</h2><span>00</span></div>
					<div id="highscore"><h2>High Score</h2><span>00</span></div>
				</div>
				<div id="board">
					<canvas id="canvas-board"></canvas>
					<canvas id="canvas-paths"></canvas>
					<canvas id="canvas-bubbles"></canvas>
					<canvas id="canvas-fruits"></canvas>
					<canvas id="canvas-pacman"></canvas>
					<canvas id="canvas-ghost-spo"></canvas>
					<canvas id="canvas-ghost-fpo"></canvas>
					<canvas id="canvas-ghost-ovp"></canvas>
					<canvas id="canvas-ghost-grune"></canvas>
					<canvas id="canvas-ghost-neos"></canvas>
					<div class="theme-box" id="box-1">öffentliche Güter</div>
					<div class="theme-box" id="box-2">nationale Souveränität</div>
					<div class="theme-box" id="box-3">Gesundheit</div>
					<div class="theme-box" id="box-4">Umwelt</div>
					<div class="theme-box" id="box-5">Menschenrechte</div>
					<div id="message"></div>
				</div>
				<div id="control">
					<button id="control-up"></button>
					<button id="control-down"></button>
					<button id="control-left"></button>
					<button id="control-right"></button>
				</div>
				<canvas id="canvas-lifes"></canvas>
				<canvas id="canvas-level-fruits"></canvas>
				<div class="help-button">- help -</div>
				<a class="sound" href="javascript:void(0);" data-sound="on"><img src="img/sound-on.png" alt="" border="0"></a>
			</div>
		</div>
		<div id="ghost-popup">
			<div class="ghost-popup-container">
				<button id="continue" class="btn">X</button>
				<div id="ghost-name"></div>
				<div id="ghost-text"></div>
				<div class="popup-actions">
					<div id="ghost-popup-twit" data-size="large"></div>
					<a href="" id="ghost-email" class="btn">E-Mail senden</a>
				</div>
			</div>
		</div>
		<div id="engage-popup">
			<div class="engage-popup-container">
				<button id="engage-break" class="btn">X</button>
				<div id="gameover-title">GAMEOVER</div>
				<p>Aber es ist noch nicht zu Ende, hier sind deine Gewinne:</p>
				<button id="activist-guide" class="btn">Aktivist Guide</button><br/>
				<div class="popup-actions">
					<button id="email" class="btn">Newsletter Eintragen</button>
					<button id="email" class="btn">An Attac Spenden</button>
				</div>
			</div>
		</div>
		<div id="twitter-wjs" data-size="large"></div>
	</body>

</html>
